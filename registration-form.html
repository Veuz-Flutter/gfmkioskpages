<style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');


    body {
        font-family: 'Poppins', sans-serif !important;
    }

    /* Registration Form */
    .registration-form {
        position: fixed;
        inset: 0;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0, 0, 0, 0.7);
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
        z-index: 15000;
    }

    .registration-form:not(.hidden) {
        opacity: 1;
        pointer-events: auto;
    }

    .registration-form-content {
        background: #fff;
        border-radius: 20px;
        /* padding: 40px 50px; */
        min-width: 90%;
        max-width: 90%;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        animation: registrationSlideIn 0.4s ease-out;
        position: relative;
    }

    @keyframes registrationSlideIn {
        0% {
            transform: translateY(-30px);
            opacity: 0;
        }

        100% {
            transform: translateY(0);
            opacity: 1;
        }
    }

    .registration-form-title {
        color: rgb(255, 255, 255);
        font-size: 28px;
        font-weight: 700;
        text-align: left;
        padding: 15px;
        display: flex;
        justify-content: space-between;

    }

    .registration-form-content-wrapper {
        display: flex;
        gap: 30px;
    }

    .registration-field-group {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    .registration-field {
        display: flex;
        flex-direction: column;
    }

    .registration-field label {
        color: rgb(53, 53, 53);
        font-size: 14px;
        font-weight: 400;
        margin-bottom: 8px;

    }

    .registration-field input,
    .registration-field select {
        background: white;
        border: 2px solid #ebebeb;
        border-radius: 8px;
        padding: 12px 16px;
        color: #333;
        font-size: 16px;
        font-weight: 500;
        min-height: 48px;

        /* box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); */
        transition: all 0.2s ease;

    }

    .registration-field input:focus,
    .registration-field select:focus {
        outline: none;
        border-color: #421989;
        box-shadow: 0 4px 12px #42198980;
    }

    .registration-field input.error,
    .registration-field select.error {
        border-color: #ef4444;
    }

    .registration-field-error {
        color: #ef4444;
        font-size: 12px;
        margin-top: 4px;
        display: block;
    }

    .phone-input-container {
        display: flex;
        gap: 8px;
    }

    .phone-input-container .country-code-select {
        flex: 0 0 120px;
        min-width: 120px;
    }

    .phone-input-container .phone-number-input {
        flex: 1;
    }

    .registration-loading-overlay {
        position: absolute;
        inset: 0;
        background: rgba(255, 255, 255, 0.95);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 10;
        border-radius: 20px;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.3s ease;
    }

    .registration-loading-overlay.visible {
        opacity: 1;
        pointer-events: auto;
    }

    .registration-loading-text {
        font-size: 18px;
        font-weight: 600;
        color: #421989;
        display: flex;
        align-items: center;
        gap: 12px;
    }

    .registration-loading-spinner {
        width: 24px;
        height: 24px;
        border: 3px solid #42198933;
        border-top-color: #421989;
        border-radius: 50%;
        animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
        to {
            transform: rotate(360deg);
        }
    }

    .registration-btn-primary.loading {
        opacity: 0.7;
        cursor: not-allowed;
        position: relative;
    }

    .registration-btn-primary.loading::after {
        content: '';
        position: absolute;
        width: 16px;
        height: 16px;
        margin: auto;
        border: 2px solid transparent;
        border-top-color: currentColor;
        border-radius: 50%;
        animation: spin 0.6s linear infinite;
        right: 12px;
        top: 0;
        bottom: 0;
    }

    .registration-form-actions {
        display: flex;
        gap: 15px;
        justify-content: flex-end;
        margin-top: 30px;
        padding-top: 20px;
        border-top: 1px solid rgba(255, 255, 255, 0.2);
    }

    .registration-btn {
        padding: 12px 24px;
        border: none;
        border-radius: 8px;
        font-size: 16px;
        font-weight: 600;
        cursor: pointer;
        transition: all 0.2s ease;

    }

    .registration-btn-primary {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
        color: white;
    }

    .registration-btn-primary:hover {
        background: linear-gradient(135deg, #34d399 0%, #10b981 100%);
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(16, 185, 129, 0.4);
    }

    .registration-btn-secondary {
        background: rgba(255, 255, 255, 0.2);
        color: white;
        border: 1px solid rgba(255, 255, 255, 0.3);
    }

    .registration-btn-secondary:hover {
        background: rgba(255, 255, 255, 0.3);
        transform: translateY(-2px);
    }

    .form_main {
        padding: 40px;
    }

    .registration-close-btn {
        position: absolute;
        top: 16px;
        right: 16px;
        width: 40px;
        height: 40px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        border: none;
        background: transparent;
        cursor: pointer;
        border-radius: 8px;
        color: #333;
        transition: background .12s ease, color .12s ease;
        z-index: 20;
    }

    .modal_header {
        background: linear-gradient(135deg, #6b0285 0%, #4a2c7a 100%);
    }

    .registration-close-btn:hover {
        background: rgba(0, 0, 0, 0.06);
    }

    .registration-close-btn svg {
        width: 38px;
        height: 38px;
        display: block;
        color: #fff;
        background: #eaeaea47;
        padding: 3px;
        font-size: 30px;
        border-radius: 5px;
    }

    @media (max-width: 768px) {
        .registration-form-content {
            min-width: auto;
            width: 95%;
            padding: 30px 25px;
        }

        .registration-form-content-wrapper {
            flex-direction: column;
            gap: 20px;
        }

        .registration-field-group {
            gap: 15px;
        }

        .registration-form-title {
            font-size: 24px;
        }
    }
</style>

<!-- Registration Form -->
<div class="registration-form hidden" id="registrationForm">
    <div class="registration-form-content">
        <div class="modal_header">
            <h2 class="registration-form-title">Registration Form</h2>

            <!-- close button -->
            <button type="button" class="registration-close-btn" aria-label="Close registration form"
                onclick="closeRegistrationForm()">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                    stroke-linejoin="round" aria-hidden="true">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>

        </div>
        <form id="registrationFormElement" class="form_main" onsubmit="handleRegistrationSubmit(event)">
            <div class="registration-loading-overlay" id="registrationLoadingOverlay">
                <div class="registration-loading-text">
                    <div class="registration-loading-spinner"></div>
                    <span>Please wait...</span>
                </div>
            </div>
            <div class="registration-form-content-wrapper">
                <div class="registration-field-group">
                    <div class="registration-field">
                        <label for="reg-firstname">First Name</label>
                        <input type="text" id="reg-firstname" name="firstname">
                    </div>
                    <div class="registration-field">
                        <label for="reg-email">Email Address</label>
                        <input type="email" id="reg-email" name="email">
                    </div>
                    <div class="registration-field">
                        <label for="reg-company">Company Name</label>
                        <input type="text" id="reg-company" name="company">
                    </div>

                </div>
                <div class="registration-field-group">
                    <div class="registration-field">
                        <label for="reg-lastname">Last Name</label>
                        <input type="text" id="reg-lastname" name="lastname">
                    </div>
                    <div class="registration-field">
                        <label for="reg-mobile">Phone Number</label>
                        <div class="phone-input-container">
                            <select id="reg-country-code" name="country_code" class="country-code-select">
                                <option value="+971">+971 (UAE)</option>
                                <option value="+1">+1 (US/CA)</option>
                                <option value="+44">+44 (UK)</option>
                                <option value="+91">+91 (India)</option>
                                <option value="+966">+966 (Saudi Arabia)</option>
                                <option value="+974">+974 (Qatar)</option>
                                <option value="+965">+965 (Kuwait)</option>
                                <option value="+973">+973 (Bahrain)</option>
                                <option value="+968">+968 (Oman)</option>
                                <option value="+33">+33 (France)</option>
                                <option value="+49">+49 (Germany)</option>
                                <option value="+39">+39 (Italy)</option>
                                <option value="+34">+34 (Spain)</option>
                                <option value="+61">+61 (Australia)</option>
                                <option value="+81">+81 (Japan)</option>
                                <option value="+86">+86 (China)</option>
                                <option value="+82">+82 (South Korea)</option>
                                <option value="+65">+65 (Singapore)</option>
                                <option value="+60">+60 (Malaysia)</option>
                                <option value="+62">+62 (Indonesia)</option>
                                <option value="+66">+66 (Thailand)</option>
                                <option value="+84">+84 (Vietnam)</option>
                                <option value="+90">+90 (Turkey)</option>
                                <option value="+20">+20 (Egypt)</option>
                                <option value="+27">+27 (South Africa)</option>
                                <option value="+55">+55 (Brazil)</option>
                                <option value="+52">+52 (Mexico)</option>
                                <option value="+7">+7 (Russia/Kazakhstan)</option>
                            </select>
                            <input type="tel" id="reg-mobile" name="mobile" class="phone-number-input"
                                placeholder="Enter phone number" pattern="[0-9]*" inputmode="numeric"
                                onkeypress="return /[0-9]/i.test(event.key)">
                        </div>
                    </div>
                    <div class="registration-field">
                        <label for="reg-nationality">Nationality</label>
                        <select id="reg-nationality" name="nationality">
                            <option value="">Select Nationality</option>
                            <option value="UAE">United Arab Emirates</option>
                            <option value="Saudi Arabia">Saudi Arabia</option>
                            <option value="Qatar">Qatar</option>
                            <option value="Kuwait">Kuwait</option>
                            <option value="Bahrain">Bahrain</option>
                            <option value="Oman">Oman</option>
                            <option value="USA">United States</option>
                            <option value="Canada">Canada</option>
                            <option value="UK">United Kingdom</option>
                            <option value="India">India</option>
                            <option value="Pakistan">Pakistan</option>
                            <option value="Bangladesh">Bangladesh</option>
                            <option value="Philippines">Philippines</option>
                            <option value="Egypt">Egypt</option>
                            <option value="Lebanon">Lebanon</option>
                            <option value="Jordan">Jordan</option>
                            <option value="Syria">Syria</option>
                            <option value="Iraq">Iraq</option>
                            <option value="Iran">Iran</option>
                            <option value="Turkey">Turkey</option>
                            <option value="France">France</option>
                            <option value="Germany">Germany</option>
                            <option value="Italy">Italy</option>
                            <option value="Spain">Spain</option>
                            <option value="Netherlands">Netherlands</option>
                            <option value="Belgium">Belgium</option>
                            <option value="Switzerland">Switzerland</option>
                            <option value="Australia">Australia</option>
                            <option value="New Zealand">New Zealand</option>
                            <option value="Japan">Japan</option>
                            <option value="China">China</option>
                            <option value="South Korea">South Korea</option>
                            <option value="Singapore">Singapore</option>
                            <option value="Malaysia">Malaysia</option>
                            <option value="Indonesia">Indonesia</option>
                            <option value="Thailand">Thailand</option>
                            <option value="Vietnam">Vietnam</option>
                            <option value="South Africa">South Africa</option>
                            <option value="Brazil">Brazil</option>
                            <option value="Mexico">Mexico</option>
                            <option value="Argentina">Argentina</option>
                            <option value="Russia">Russia</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>

                </div>

                <div class="registration-field-group">
                    <div class="registration-field">
                        <label for="reg-designation">Job Title</label>
                        <input type="text" id="reg-designation" name="designation">
                    </div>
                    <div class="registration-field">
                        <label for="reg-country-of-residence">Country of Residence</label>
                        <select id="reg-country-of-residence" name="country_of_residence">
                            <option value="">Select Country of Residence</option>
                            <option value="UAE">United Arab Emirates</option>
                            <option value="Saudi Arabia">Saudi Arabia</option>
                            <option value="Qatar">Qatar</option>
                            <option value="Kuwait">Kuwait</option>
                            <option value="Bahrain">Bahrain</option>
                            <option value="Oman">Oman</option>
                            <option value="USA">United States</option>
                            <option value="Canada">Canada</option>
                            <option value="UK">United Kingdom</option>
                            <option value="India">India</option>
                            <option value="Pakistan">Pakistan</option>
                            <option value="Bangladesh">Bangladesh</option>
                            <option value="Philippines">Philippines</option>
                            <option value="Egypt">Egypt</option>
                            <option value="Lebanon">Lebanon</option>
                            <option value="Jordan">Jordan</option>
                            <option value="Syria">Syria</option>
                            <option value="Iraq">Iraq</option>
                            <option value="Iran">Iran</option>
                            <option value="Turkey">Turkey</option>
                            <option value="France">France</option>
                            <option value="Germany">Germany</option>
                            <option value="Italy">Italy</option>
                            <option value="Spain">Spain</option>
                            <option value="Netherlands">Netherlands</option>
                            <option value="Belgium">Belgium</option>
                            <option value="Switzerland">Switzerland</option>
                            <option value="Australia">Australia</option>
                            <option value="New Zealand">New Zealand</option>
                            <option value="Japan">Japan</option>
                            <option value="China">China</option>
                            <option value="South Korea">South Korea</option>
                            <option value="Singapore">Singapore</option>
                            <option value="Malaysia">Malaysia</option>
                            <option value="Indonesia">Indonesia</option>
                            <option value="Thailand">Thailand</option>
                            <option value="Vietnam">Vietnam</option>
                            <option value="South Africa">South Africa</option>
                            <option value="Brazil">Brazil</option>
                            <option value="Mexico">Mexico</option>
                            <option value="Argentina">Argentina</option>
                            <option value="Russia">Russia</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="registration-form-actions">
                <button type="button" class="registration-btn registration-btn-secondary"
                    onclick="closeRegistrationForm()">
                    Cancel
                </button>
                <button type="submit" id="registration-submit-btn" class="registration-btn registration-btn-primary">
                    Submit Registration
                </button>
            </div>
        </form>
    </div>
</div>

<script>
    if (typeof closeRegistrationForm !== 'function') {
        function closeRegistrationForm() {
            const el = document.getElementById('registrationForm');
            if (el) el.classList.add('hidden');
        }
    }
</script>